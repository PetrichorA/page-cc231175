((t,e)=>{let n,o;const s=new Set,a=e.createElement("link"),i=a.relList&&a.relList.supports&&a.relList.supports("prefetch")&&t.IntersectionObserver&&"isIntersecting"in IntersectionObserverEntry.prototype,r="instantAllowQueryString"in e.body.dataset,c="instantAllowExternalLinks"in e.body.dataset,l="instantWhitelist"in e.body.dataset,d="instantMousedownShortcut"in e.body.dataset;let u=65,f=!1,p=!1,h=!1;if("instantIntensity"in e.body.dataset){const t=e.body.dataset.instantIntensity;if("mousedown"==t.substr(0,"mousedown".length))f=!0,"mousedown-only"==t&&(p=!0);else if("viewport"==t.substr(0,"viewport".length))navigator.connection&&(navigator.connection.saveData||navigator.connection.effectiveType&&navigator.connection.effectiveType.includes("2g"))||("viewport"==t?e.documentElement.clientWidth*e.documentElement.clientHeight<45e4&&(h=!0):"viewport-all"==t&&(h=!0));else{const e=parseInt(t);isNaN(e)||(u=e)}}if(i){const s={capture:!0,passive:!0};if(p||e.addEventListener("touchstart",(function(t){o=performance.now();const e=t.target.closest("a");m(e)&&w(e.href)}),s),f?d||e.addEventListener("mousedown",(function(t){const e=t.target.closest("a");m(e)&&w(e.href)}),s):e.addEventListener("mouseover",(function(t){if(performance.now()-o<1111)return;const e=t.target.closest("a");m(e)&&(e.addEventListener("mouseout",v,{passive:!0}),n=setTimeout(()=>{w(e.href),n=void 0},u))}),s),d&&e.addEventListener("mousedown",(function(e){if(performance.now()-o<1111)return;const n=e.target.closest("a");if(e.which>1||e.metaKey||e.ctrlKey)return;if(!n)return;n.addEventListener("click",(function(t){1337!=t.detail&&t.preventDefault()}),{capture:!0,passive:!1,once:!0});const s=new MouseEvent("click",{view:t,bubbles:!0,cancelable:!1,detail:1337});n.dispatchEvent(s)}),s),h){let n;n=t.requestIdleCallback?t=>{requestIdleCallback(t,{timeout:1500})}:t=>{t()},n(()=>{const t=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const n=e.target;t.unobserve(n),w(n.href)}})});e.querySelectorAll("a").forEach(e=>{m(e)&&t.observe(e)})})}}function v(t){t.relatedTarget&&t.target.closest("a")==t.relatedTarget.closest("a")||n&&(clearTimeout(n),n=void 0)}function m(t){if(t&&t.href&&(!l||"instant"in t.dataset)&&(c||t.origin==location.origin||"instant"in t.dataset)&&["http:","https:"].includes(t.protocol)&&("http:"!=t.protocol||"https:"!=location.protocol)&&(r||!t.search||"instant"in t.dataset)&&!(t.hash&&t.pathname+t.search==location.pathname+location.search||"noInstant"in t.dataset))return!0}function w(t){if(s.has(t))return;const n=e.createElement("link");n.rel="prefetch",n.href=t,e.head.appendChild(n),s.add(t)}})(window,document);
